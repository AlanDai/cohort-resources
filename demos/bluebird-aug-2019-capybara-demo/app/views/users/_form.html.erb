<% if type == :new %>
  <% action_url = users_url %>
  <% button_text = "Create Wizard" %>
<% else %>
  <% action_url = user_url(user) %>
  <% button_text = "Update Wizard" %>
<% end %>

<form action="<%= action_url %>" method="post">
  <% if type == :edit %>
    <input type="hidden" name="_method" value="patch">
  <% end %>

  <ul>
    <% user.errors.full_messages.each do |message| %>
      <li><%= message  %></li>
    <% end %>
  </ul>

  <label for="username">Username:
    <input type="text" id="username" name="user[username]" value="<%= user.username %>">
  </label>
  <br>
  <label for="age">Age:
    <input type="text" id="age" name="user[age]" value="<%= user.age %>">
  </label>
  <br>
  <label for="email">Email:
    <input type="text" id="email" name="user[email]" value="<%= user.email %>">
  </label>
  <br>
  <label for="political_affiliation">Political Affiliation:
    <input type="text" id="political_affiliation" name="user[political_affiliation]"
      value="<%= user.political_affiliation %>">
  </label>
  <% if type == :new %>
    <br>
    <label for="password">Password:
      <input type="password" id="password" name="user[password]" value="">
    </label>
  <% end %>
  <br>
  <input type="submit" value="<%= button_text %>">
</form>
