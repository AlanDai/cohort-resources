{"version":3,"sources":["webpack:///webpack/bootstrap bab878c8a5afbc6d50ee","webpack:///./frontend/giphy_lite.js","webpack:///./frontend/gif_api_util.js"],"names":["GifApiUtil","require","setEventHandlers","$","on","$gifDisplay","empty","e","preventDefault","fetchNewGif","saveGif","fetchSavedGif","newGifAJAX","then","url","res","data","image_url","appendGif","$input","title","val","gif","$messages","success","response","text","setTimeout","failure","errors","responseJSON","saveGifAJAX","fetchSavedGifAJAX","console","log","$newImage","newGifURL","append","ajax","method","gifArg","dataType","titleArg","module","exports"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap bab878c8a5afbc6d50ee","const GifApiUtil = require('./gif_api_util');\n\nconst setEventHandlers = () => {\n  $('.clear').on('click', () => {\n    // Clear out GIF display\n    const $gifDisplay = $('.gif-display');\n    $gifDisplay.empty();\n  });\n\n  $('#new-gif-form').on('submit', e => {\n    e.preventDefault();\n    // Fetch a new GIF\n    fetchNewGif();\n  });\n\n  $('#save-gif-form').on('submit', e => {\n    e.preventDefault();\n    saveGif();\n    // Save GIF\n  });\n\n  $('#old-gif-form').on('submit', e => {\n    e.preventDefault();\n    fetchSavedGif();\n    // Fetch saved GIF\n  });\n};\n\n$(setEventHandlers);\n\n// setEventHandlers will run after the dom is fully loaded\n// it adds all of our event handlers after we're sure the elements are on the page\n\n// ------------- GIF ACTIONS - fetchNew, save, and fetchSaved ---------------\n\nconst fetchNewGif = () => {\n  // Initiate AJAX call to GIPHY API, take response and put on the DOM\n  GifApiUtil.newGifAJAX() //this returns a promise like object\n    .then(res => {\n      // debugger;\n      const url = res.data.image_url;\n      appendGif(url);\n    }); //res will be the data we get back\n};\n\nconst saveGif = e => {\n  const $input = $('#save-gif-title'); //grabbing a node from html \n  const title = $input.val(); //grabbing the title from node\n  $input.val(''); \n  \n  const gif = {\n    title: title, \n    url: $(\".gif-display\").data(\"url\")\n  }\n\n  const $messages = $(\".messages\");\n\n\n  // Initiate AJAX request to Rails backend, give a message if successful\n  // give an error if request was unsuccessful\n\n  const success = (response) => {\n    $messages.text(\"good job! :) \");\n    setTimeout(() => $messages.empty(),5000);\n  }\n\n  const failure = (errors) => {\n    $messages.text(errors.responseJSON[0]);\n    setTimeout(() => $messages.empty(), 5000);\n  }\n\n  GifApiUtil.saveGifAJAX(gif)\n  .then(success,failure);\n};\n\nconst fetchSavedGif = () => {\n  const $input = $('#old-gif-query');\n  const title = $input.val();\n  $input.val('');\n  \n  GifApiUtil.fetchSavedGifAJAX(title)\n    .then(\n      (response) => { \n        appendGif(response.url);\n      },\n      (errors) => {\n        console.log(\"gif not found! :(\")\n      }\n    );\n\n  // Initate AJAX request to Rails backend, add GIF to the DOM if successful\n  // show errors if request was unsuccessful\n};\n\nconst appendGif = newGifURL => {\n  // Add gif to the display and keep track of its url\n  const $gifDisplay = $('.gif-display');\n  $gifDisplay.empty();\n\n  const $newImage = $(`<img class=\"gif\" src=\"${newGifURL}\">`);\n  $gifDisplay.data(\"url\", newGifURL);\n  $gifDisplay.append($newImage);\n};\n\n\n// WEBPACK FOOTER //\n// ./frontend/giphy_lite.js","const GifApiUtil = {\n  newGifAJAX: function() {\n    // always explicitly return because it makes debugging easier\n    // explicitly returning whatever is returned by the ajax method. (a promise)\n    // go to the url ad GET some random gif\n    return $.ajax({\n      method: 'GET',\n      url: `https://api.giphy.com/v1/gifs/random?api_key=9IfxO6R6fpEZMAdqdw66QUgQdPejVIAW&tag=disney`,\n    });\n  },\n  saveGifAJAX: function(gifArg) {\n    return $.ajax({\n      method: \"POST\",\n      url: \"/gifs\",\n      data:{\n        gif: gifArg\n      },\n      dataType: \"JSON\"\n    });\n  },\n  fetchSavedGifAJAX: function(titleArg) {\n    return $.ajax({\n      method: \"GET\",\n      url: `/gifs/${titleArg}`,\n      dataType: \"JSON\"\n    })\n  }\n};\n\nmodule.exports = GifApiUtil;\n\n//pretty much like the one from asteroids\n\n\n// WEBPACK FOOTER //\n// ./frontend/gif_api_util.js"],"sourceRoot":""}